---
layout: post
title: "Bisonæ•™ä½ 1åˆ†é’Ÿé›†æˆ3Dæ— é™ç¿»è½¬çš„Banner"
description: "Bison"
category: å¹¿å‘Šè½®æ’­
headline: Discover the theme elements
tags: [3D Bannerï¼ŒiOSå¼€å‘åŠ¨ç”»ï¼ŒiOSå¼€å‘è½®æ’­å¹¿å‘Šï¼ŒiOSå¼€å‘æŠ€å·§ï¼ŒæŠ€æœ¯åšå®¢]
imagefeature: BG.jpg
comments: true
featured: 
mathjax: true
path: /images
---

>&quot;iOSæŠ€æœ¯åˆ†äº«,iOSå¼€å‘,iOSå¼€å‘æŠ€å·§,iOSå¼€å‘åšå®¢&quot;
><small><cite title="Plato">Bison</cite></small>

>![1]({{ page.path }}/zjs.jpg)<br>
>[å†°ä¹‹ä¾éŸ©ç‰ˆå¥³è£…](http://allluckly.taobao.com/)ï¼ˆç¨‹åºåª›ç¦åˆ©ï¼‰<br>


<br>

![gift.png](http://upload-images.jianshu.io/upload_images/671504-4615c325630ecbe1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
è¿™æ˜¯ä¸€ä¸ªå¾ˆç‚«çš„å¹¿å‘Šè½®æ’­åŠŸèƒ½ï¼Œå¾ˆå¤š`APP`éƒ½æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œæ¯”å¦‚è¯´`ç¤¼ç‰©è¯´` è¿˜æœ‰å‡ ä¸ªå¿˜è®°åå­—äº†ã€‚ã€‚ã€‚
åœ¨è¿™é‡Œç»™å¤§å®¶ç®€å•çš„è®²ä¸‹è¯¥åŠŸèƒ½æ˜¯æ€ä¹ˆå®ç°çš„
é¦–å…ˆæ˜¯å®šä¹‰ä¸€ä¸‹åŸºæœ¬çš„æ§ä»¶ï¼Œä»£ç å¦‚ä¸‹

{% highlight css %}

- (void)show3DBannerView{
Â Â  Â 
Â  Â  _imageArr = @[@"0.jpg",@"1.jpg",@"2.jpg",@"3.jpg",@"4.jpg",@"5.jpg"];
Â  Â  //å®šä¹‰å›¾ç‰‡æ§ä»¶
Â  Â  _imageView=[[UIImageView alloc]init];
Â  Â  _imageView.frame= CGRectMake(0, 0, MainScreenW, 180);
Â  Â  _imageView.contentMode=UIViewContentModeScaleAspectFit;
Â Â  Â 
Â  Â  _imageView.image=[UIImage imageNamed:_imageArr[0]];//é»˜è®¤å›¾ç‰‡
Â  Â  _imageView.userInteractionEnabled = YES;
Â  Â  self.userInteractionEnabled = YES;
Â  Â  [self addSubview:_imageView];
Â  Â  _imageView.tag = 10;
//é»˜è®¤ç‚¹å‡»ç¬¬ä¸€å¼ 
Â  Â  UITapGestureRecognizer *doubleTap = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(doDoubleTap:)];
Â  Â  [_imageView addGestureRecognizer:doubleTap];
Â Â  Â 
Â  Â  //æ·»åŠ æ‰‹åŠ¿
Â  Â  UISwipeGestureRecognizer *leftSwipeGesture=[[UISwipeGestureRecognizer alloc]initWithTarget:self action:@selector(leftSwipe:)];
Â  Â  leftSwipeGesture.direction=UISwipeGestureRecognizerDirectionLeft;
Â  Â  [self addGestureRecognizer:leftSwipeGesture];
Â Â  Â 
Â  Â  UISwipeGestureRecognizer *rightSwipeGesture=[[UISwipeGestureRecognizer alloc]initWithTarget:self action:@selector(rightSwipe:)];
Â  Â  rightSwipeGesture.direction=UISwipeGestureRecognizerDirectionRight;
Â  Â  [self addGestureRecognizer:rightSwipeGesture];
}

{% endhighlight %}

ç„¶åå®ç°å„æ‰‹åŠ¿çš„æ–¹æ³•

{% highlight css %}

#pragma mark å‘å·¦æ»‘åŠ¨æµè§ˆä¸‹ä¸€å¼ å›¾ç‰‡
-(void)leftSwipe:(UISwipeGestureRecognizer *)gesture{
Â  Â  [self transitionAnimation:YES];
}

#pragma mark å‘å³æ»‘åŠ¨æµè§ˆä¸Šä¸€å¼ å›¾ç‰‡
-(void)rightSwipe:(UISwipeGestureRecognizer *)gesture{
Â  Â  [self transitionAnimation:NO];
}
{% endhighlight %}

ä¸‹é¢åˆ°äº†æˆ‘ä»¬è¯¥å®ç°3Dçš„è½¬åœºåŠ¨ç”»äº†çš„æ—¶å€™äº†

{% highlight css %}

#pragma mark è½¬åœºåŠ¨ç”»
-(void)transitionAnimation:(BOOL)isNext{
Â  Â  //1.åˆ›å»ºè½¬åœºåŠ¨ç”»å¯¹è±¡
Â  Â  CATransition *transition=[[CATransition alloc]init];
Â Â  Â 
Â  Â  //2.è®¾ç½®åŠ¨ç”»ç±»å‹,æ³¨æ„å¯¹äºè‹¹æœå®˜æ–¹æ²¡å…¬å¼€çš„åŠ¨ç”»ç±»å‹åªèƒ½ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œå¹¶æ²¡æœ‰å¯¹åº”çš„å¸¸é‡å®šä¹‰
Â  Â  transition.type=@"cube";
Â Â  Â 
Â  Â  //è®¾ç½®å­ç±»å‹
Â  Â  if (isNext) {
Â  Â  Â  Â  transition.subtype=kCATransitionFromRight;
Â  Â  }else{
Â  Â  Â  Â  transition.subtype=kCATransitionFromLeft;
Â  Â  }
Â  Â  //è®¾ç½®åŠ¨ç”»æ—¶å¸¸
Â  Â  transition.duration=1.0f;
Â Â  Â 
Â  Â  //3.è®¾ç½®è½¬åœºåçš„æ–°è§†å›¾æ·»åŠ è½¬åœºåŠ¨ç”»
Â  Â  _imageView.image=[self getImage:isNext];
Â  Â  [_imageView.layer addAnimation:transition forKey:@"KCTransitionAnimation"];
}
{% endhighlight %}
æ˜¯ä¸æ˜¯è¿˜è§‰å¾—ç¼ºäº†ä»€ä¹ˆå•Šï¼ŸBanneræ€ä¹ˆå¯èƒ½å°‘çš„äº†å›¾ç‰‡å‘¢ï¼Ÿ
ä¸‹é¢æ˜¯è·å–å›¾ç‰‡çš„æ–¹æ³•
{% highlight css %}

#pragma mark å–å¾—å½“å‰å›¾ç‰‡
-(UIImage *)getImage:(BOOL)isNext{
Â  Â  if (isNext) {
Â  Â  Â  Â  _currentIndex=(_currentIndex+1)%_imageArr.count;
Â  Â  }else{
Â  Â  Â  Â  _currentIndex=(_currentIndex-1+_imageArr.count)%(int)_imageArr.count;
Â  Â  }
Â  Â  NSString *imageName = _imageArr[_currentIndex];
Â Â  Â 
Â Â  Â 
Â  Â  _imageView.tag = _currentIndex+10;
//å¢åŠ ç‚¹å‡»æ‰‹åŠ¿
Â  Â  UITapGestureRecognizer *doubleTap = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(doDoubleTap:)];
Â Â  Â 
Â  Â  [_imageView addGestureRecognizer:doubleTap];
Â Â  Â 
Â Â  Â 
Â  Â  return [UIImage imageNamed:imageName];
}
{% endhighlight %}

ç‚¹å‡»å›¾ç‰‡è§¦å‘äº‹ä»¶

{% highlight css %}
- (void)doDoubleTap:(UITapGestureRecognizer*)gesture
{
Â Â  Â 
Â  Â    [_delegate ClickImg:(int)gesture.view.tag];
}
{% endhighlight %}

##é›†æˆæ–¹æ³•

å¯¼å…¥å¤´æ–‡ä»¶`#import "SayGift_3DBanner_View.h"`

æŠŠ`SayGift_3DBanner_View`æ–‡ä»¶æ‹‰è¿›è‡ªå·±çš„å·¥ç¨‹

å®ç°`ClickImgDelegate`ä»£ç†


{% highlight css %}Â  Â 

- (void)viewDidLoad {
Â  Â  [super viewDidLoad];
Â  Â  SayGift_3DBanner_View *Banner_View = [[SayGift_3DBanner_View alloc]initWithFrame:CGRectMake(0, 0, self.view.frame.size.width, 180)];
Â  Â  Banner_View.delegate = self;
Â  Â  [Banner_View show3DBannerView];
Â  Â  [self.view addSubview:Banner_View];

}

{% endhighlight %}

<br>

{% highlight css %}
//ç‚¹å‡»äº†ç¬¬å‡ å¼ å›¾ç‰‡
- (void)ClickImg:(int)index{
    NSLog(@"ç‚¹å‡»äº†ç¬¬%då¼ ",index);
}
{% endhighlight %}

###PS
####ç”±äºè½¬åœºçš„åŠ¨ç”»ä½¿ç”¨çš„æ˜¯ç³»ç»Ÿçš„ç§æœ‰`API`ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨åœ¨éœ€è¦ä¸Šæ¶çš„`APP`é‡Œé¢å“¦ï¼æœ‰ç‚¹é—æ†¾å“ˆ.......æƒ³åˆ°äº†ä¸€ä¸ªæ–¹æ³•è²Œä¼¼å¯ä»¥ç»•è¿‡è‹¹æœçš„æ£€æµ‹ä¸Šä¼ ï¼Œæ„Ÿè§‰è¿˜å¯ä»¥å®è¡Œçš„æ ·å­<br>

###[ç‚¹å‡»Demoä¸‹è½½](https://github.com/AllLuckly/SayGift_3DAdvertisement)




æœ€åæˆ‘æŠŠæ•ˆæœå›¾è´´å‡ºæ¥ç»™å¤§å®¶çœ‹çœ‹

![3D.gif](http://upload-images.jianshu.io/upload_images/671504-0e4df3c94d09e081.gif?imageMogr2/auto-orient/strip)
<br>

> [åšä¸»appä¸Šçº¿äº†ï¼Œèµ¶ç´§ç‚¹æ­¤æ¥å›´è§‚å§ğŸ˜„](https://itunes.apple.com/us/app/it-blog-zi-xueios-kai-fa-jin/id1067787090?l=zh&ls=1&mt=8)<br>

å¥½æ–‡æ¨èï¼š[Bisonæ•™ä½ 3åˆ†é’Ÿé›†æˆæ”¯ä»˜å®å¥½å‹åˆ†äº«](http://www.jianshu.com/p/05a3087cd796)
<br>
> [æ›´å¤šç»éªŒè¯·ç‚¹å‡»](http://www.allluckly.cn/)


ç‰ˆæƒå½’Â©Bisonæ‰€æœ‰ æœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚<br>



